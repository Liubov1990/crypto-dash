function $t(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ht={exports:{}},p={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ye=Symbol.for("react.element"),qt=Symbol.for("react.portal"),Wt=Symbol.for("react.fragment"),Ht=Symbol.for("react.strict_mode"),zt=Symbol.for("react.profiler"),Kt=Symbol.for("react.provider"),Gt=Symbol.for("react.context"),Jt=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),Xt=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),tt=Symbol.iterator;function Zt(e){return e===null||typeof e!="object"?null:(e=tt&&e[tt]||e["@@iterator"],typeof e=="function"?e:null)}var vt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gt=Object.assign,_t={};function oe(e,t,r){this.props=e,this.context=t,this.refs=_t,this.updater=r||vt}oe.prototype.isReactComponent={};oe.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oe.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pt(){}pt.prototype=oe.prototype;function Ne(e,t,r){this.props=e,this.context=t,this.refs=_t,this.updater=r||vt}var Me=Ne.prototype=new pt;Me.constructor=Ne;gt(Me,oe.prototype);Me.isPureReactComponent=!0;var rt=Array.isArray,bt=Object.prototype.hasOwnProperty,Ie={current:null},mt={key:!0,ref:!0,__self:!0,__source:!0};function Vt(e,t,r){var n,o={},i=null,f=null;if(t!=null)for(n in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(i=""+t.key),t)bt.call(t,n)&&!mt.hasOwnProperty(n)&&(o[n]=t[n]);var d=arguments.length-2;if(d===1)o.children=r;else if(1<d){for(var g=Array(d),m=0;m<d;m++)g[m]=arguments[m+2];o.children=g}if(e&&e.defaultProps)for(n in d=e.defaultProps,d)o[n]===void 0&&(o[n]=d[n]);return{$$typeof:ye,type:e,key:i,ref:f,props:o,_owner:Ie.current}}function er(e,t){return{$$typeof:ye,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function je(e){return typeof e=="object"&&e!==null&&e.$$typeof===ye}function tr(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var st=/\/+/g;function Te(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tr(""+e.key):t.toString(36)}function be(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(i){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case ye:case qt:f=!0}}if(f)return f=e,o=o(f),e=n===""?"."+Te(f,0):n,rt(o)?(r="",e!=null&&(r=e.replace(st,"$&/")+"/"),be(o,t,r,"",function(m){return m})):o!=null&&(je(o)&&(o=er(o,r+(!o.key||f&&f.key===o.key?"":(""+o.key).replace(st,"$&/")+"/")+e)),t.push(o)),1;if(f=0,n=n===""?".":n+":",rt(e))for(var d=0;d<e.length;d++){i=e[d];var g=n+Te(i,d);f+=be(i,t,r,g,o)}else if(g=Zt(e),typeof g=="function")for(e=g.call(e),d=0;!(i=e.next()).done;)i=i.value,g=n+Te(i,d++),f+=be(i,t,r,g,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function _e(e,t,r){if(e==null)return e;var n=[],o=0;return be(e,n,"","",function(i){return t.call(r,i,o++)}),n}function rr(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var P={current:null},me={transition:null},sr={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:me,ReactCurrentOwner:Ie};function wt(){throw Error("act(...) is not supported in production builds of React.")}p.Children={map:_e,forEach:function(e,t,r){_e(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _e(e,function(){t++}),t},toArray:function(e){return _e(e,function(t){return t})||[]},only:function(e){if(!je(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};p.Component=oe;p.Fragment=Wt;p.Profiler=zt;p.PureComponent=Ne;p.StrictMode=Ht;p.Suspense=Qt;p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sr;p.act=wt;p.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gt({},e.props),o=e.key,i=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,f=Ie.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(g in t)bt.call(t,g)&&!mt.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&d!==void 0?d[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){d=Array(g);for(var m=0;m<g;m++)d[m]=arguments[m+2];n.children=d}return{$$typeof:ye,type:e.type,key:o,ref:i,props:n,_owner:f}};p.createContext=function(e){return e={$$typeof:Gt,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kt,_context:e},e.Consumer=e};p.createElement=Vt;p.createFactory=function(e){var t=Vt.bind(null,e);return t.type=e,t};p.createRef=function(){return{current:null}};p.forwardRef=function(e){return{$$typeof:Jt,render:e}};p.isValidElement=je;p.lazy=function(e){return{$$typeof:Yt,_payload:{_status:-1,_result:e},_init:rr}};p.memo=function(e,t){return{$$typeof:Xt,type:e,compare:t===void 0?null:t}};p.startTransition=function(e){var t=me.transition;me.transition={};try{e()}finally{me.transition=t}};p.unstable_act=wt;p.useCallback=function(e,t){return P.current.useCallback(e,t)};p.useContext=function(e){return P.current.useContext(e)};p.useDebugValue=function(){};p.useDeferredValue=function(e){return P.current.useDeferredValue(e)};p.useEffect=function(e,t){return P.current.useEffect(e,t)};p.useId=function(){return P.current.useId()};p.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)};p.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)};p.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)};p.useMemo=function(e,t){return P.current.useMemo(e,t)};p.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)};p.useRef=function(e){return P.current.useRef(e)};p.useState=function(e){return P.current.useState(e)};p.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)};p.useTransition=function(){return P.current.useTransition()};p.version="18.3.1";ht.exports=p;var At=ht.exports;const N=Bt(At),kr=$t({__proto__:null,default:N},[At]);var he=e=>e.type==="checkbox",ue=e=>e instanceof Date,T=e=>e==null;const Ft=e=>typeof e=="object";var R=e=>!T(e)&&!Array.isArray(e)&&Ft(e)&&!ue(e),nr=e=>R(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,ir=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ur=(e,t)=>e.has(ir(t)),or=e=>{const t=e.constructor&&e.constructor.prototype;return R(t)&&t.hasOwnProperty("isPrototypeOf")},$e=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!($e&&(e instanceof Blob||e instanceof FileList))&&(r||R(e)))if(t=r?[]:{},!r&&!or(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=$(e[n]));else return e;return t}var Ee=e=>Array.isArray(e)?e.filter(Boolean):[],S=e=>e===void 0,h=(e,t,r)=>{if(!t||!R(e))return r;const n=Ee(t.split(/[,[\].]+?/)).reduce((o,i)=>T(o)?o:o[i],e);return S(n)||n===e?S(e[t])?r:e[t]:n},X=e=>typeof e=="boolean",Be=e=>/^\w*$/.test(e),xt=e=>Ee(e.replace(/["|']|\]/g,"").split(/\.|\[/)),x=(e,t,r)=>{let n=-1;const o=Be(t)?[t]:xt(t),i=o.length,f=i-1;for(;++n<i;){const d=o[n];let g=r;if(n!==f){const m=e[d];g=R(m)||Array.isArray(m)?m:isNaN(+o[n+1])?{}:[]}if(d==="__proto__")return;e[d]=g,e=e[d]}return e};const nt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},K={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};N.createContext(null);var lr=(e,t,r,n=!0)=>{const o={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(o,i,{get:()=>{const f=i;return t._proxyFormState[f]!==q.all&&(t._proxyFormState[f]=!n||q.all),e[f]}});return o},M=e=>R(e)&&!Object.keys(e).length,ar=(e,t,r,n)=>{r(e);const{name:o,...i}=e;return M(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(f=>t[f]===q.all)},Ve=e=>Array.isArray(e)?e:[e];function fr(e){const t=N.useRef(e);t.current=e,N.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var W=e=>typeof e=="string",cr=(e,t,r,n,o)=>W(e)?(n&&t.watch.add(e),h(r,e,o)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),h(r,i))):(n&&(t.watchAll=!0),r),St=(e,t,r,n,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:o||!0}}:{},it=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched}),ut=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const de=(e,t,r,n)=>{for(const o of r||Object.keys(e)){const i=h(e,o);if(i){const{_f:f,...d}=i;if(f){if(f.refs&&f.refs[0]&&t(f.refs[0],o)&&!n)break;if(f.ref&&t(f.ref,f.name)&&!n)break;de(d,t)}else R(d)&&de(d,t)}}};var dr=(e,t,r)=>{const n=Ve(h(e,r));return x(n,"root",t[r]),x(e,r,n),e},qe=e=>e.type==="file",Y=e=>typeof e=="function",Ae=e=>{if(!$e)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},we=e=>W(e),We=e=>e.type==="radio",Fe=e=>e instanceof RegExp;const ot={value:!1,isValid:!1},lt={value:!0,isValid:!0};var Et=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?lt:{value:e[0].value,isValid:!0}:lt:ot}return ot};const at={isValid:!1,value:null};var kt=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,at):at;function ft(e,t,r="validate"){if(we(e)||Array.isArray(e)&&e.every(we)||X(e)&&!e)return{type:r,message:we(e)?e:"",ref:t}}var ie=e=>R(e)&&!Fe(e)?e:{value:e,message:""},ct=async(e,t,r,n,o)=>{const{ref:i,refs:f,required:d,maxLength:g,minLength:m,min:V,max:_,pattern:Z,validate:G,name:L,valueAsNumber:ke,mount:J,disabled:Q}=e._f,w=h(t,L);if(!J||Q)return{};const H=f?f[0]:i,z=b=>{n&&H.reportValidity&&(H.setCustomValidity(X(b)?"":b||""),H.reportValidity())},k={},re=We(i),ve=he(i),ee=re||ve,se=(ke||qe(i))&&S(i.value)&&S(w)||Ae(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,I=St.bind(null,L,r,k),ge=(b,A,D,C=K.maxLength,B=K.minLength)=>{const j=b?A:D;k[L]={type:b?C:B,message:j,ref:i,...I(b?C:B,j)}};if(o?!Array.isArray(w)||!w.length:d&&(!ee&&(se||T(w))||X(w)&&!w||ve&&!Et(f).isValid||re&&!kt(f).isValid)){const{value:b,message:A}=we(d)?{value:!!d,message:d}:ie(d);if(b&&(k[L]={type:K.required,message:A,ref:H,...I(K.required,A)},!r))return z(A),k}if(!se&&(!T(V)||!T(_))){let b,A;const D=ie(_),C=ie(V);if(!T(w)&&!isNaN(w)){const B=i.valueAsNumber||w&&+w;T(D.value)||(b=B>D.value),T(C.value)||(A=B<C.value)}else{const B=i.valueAsDate||new Date(w),j=fe=>new Date(new Date().toDateString()+" "+fe),le=i.type=="time",ae=i.type=="week";W(D.value)&&w&&(b=le?j(w)>j(D.value):ae?w>D.value:B>new Date(D.value)),W(C.value)&&w&&(A=le?j(w)<j(C.value):ae?w<C.value:B<new Date(C.value))}if((b||A)&&(ge(!!b,D.message,C.message,K.max,K.min),!r))return z(k[L].message),k}if((g||m)&&!se&&(W(w)||o&&Array.isArray(w))){const b=ie(g),A=ie(m),D=!T(b.value)&&w.length>+b.value,C=!T(A.value)&&w.length<+A.value;if((D||C)&&(ge(D,b.message,A.message),!r))return z(k[L].message),k}if(Z&&!se&&W(w)){const{value:b,message:A}=ie(Z);if(Fe(b)&&!w.match(b)&&(k[L]={type:K.pattern,message:A,ref:i,...I(K.pattern,A)},!r))return z(A),k}if(G){if(Y(G)){const b=await G(w,t),A=ft(b,H);if(A&&(k[L]={...A,...I(K.validate,A.message)},!r))return z(A.message),k}else if(R(G)){let b={};for(const A in G){if(!M(b)&&!r)break;const D=ft(await G[A](w,t),H,A);D&&(b={...D,...I(A,D.message)},z(D.message),r&&(k[L]=b))}if(!M(b)&&(k[L]={ref:H,...b},!r))return k}}return z(!0),k};function yr(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=S(e)?n++:e[t[n++]];return e}function hr(e){for(const t in e)if(e.hasOwnProperty(t)&&!S(e[t]))return!1;return!0}function O(e,t){const r=Array.isArray(t)?t:Be(t)?[t]:xt(t),n=r.length===1?e:yr(e,r),o=r.length-1,i=r[o];return n&&delete n[i],o!==0&&(R(n)&&M(n)||Array.isArray(n)&&hr(n))&&O(e,r.slice(0,-1)),e}var Pe=()=>{let e=[];return{get observers(){return e},next:o=>{for(const i of e)i.next&&i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}},xe=e=>T(e)||!Ft(e);function te(e,t){if(xe(e)||xe(t))return e===t;if(ue(e)&&ue(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const o of r){const i=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const f=t[o];if(ue(i)&&ue(f)||R(i)&&R(f)||Array.isArray(i)&&Array.isArray(f)?!te(i,f):i!==f)return!1}}return!0}var Dt=e=>e.type==="select-multiple",vr=e=>We(e)||he(e),Le=e=>Ae(e)&&e.isConnected,Ot=e=>{for(const t in e)if(Y(e[t]))return!0;return!1};function Se(e,t={}){const r=Array.isArray(e);if(R(e)||r)for(const n in e)Array.isArray(e[n])||R(e[n])&&!Ot(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Se(e[n],t[n])):T(e[n])||(t[n]=!0);return t}function Rt(e,t,r){const n=Array.isArray(e);if(R(e)||n)for(const o in e)Array.isArray(e[o])||R(e[o])&&!Ot(e[o])?S(t)||xe(r[o])?r[o]=Array.isArray(e[o])?Se(e[o],[]):{...Se(e[o])}:Rt(e[o],T(t)?{}:t[o],r[o]):r[o]=!te(e[o],t[o]);return r}var pe=(e,t)=>Rt(e,t,Se(t)),Ct=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>S(e)?e:t?e===""?NaN:e&&+e:r&&W(e)?new Date(e):n?n(e):e;function Ue(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return qe(t)?t.files:We(t)?kt(e.refs).value:Dt(t)?[...t.selectedOptions].map(({value:r})=>r):he(t)?Et(e.refs).value:Ct(S(t.value)?e.ref.value:t.value,e)}var gr=(e,t,r,n)=>{const o={};for(const i of e){const f=h(t,i);f&&x(o,i,f._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:n}},ce=e=>S(e)?e:Fe(e)?e.source:R(e)?Fe(e.value)?e.value.source:e.value:e,_r=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function dt(e,t,r){const n=h(e,r);if(n||Be(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const i=o.join("."),f=h(t,i),d=h(e,i);if(f&&!Array.isArray(f)&&r!==i)return{name:r};if(d&&d.type)return{name:i,error:d};o.pop()}return{name:r}}var pr=(e,t,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?n.isOnBlur:o.isOnBlur)?!e:(r?n.isOnChange:o.isOnChange)?e:!0,br=(e,t)=>!Ee(h(e,t)).length&&O(e,t);const mr={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function Vr(e={}){let t={...mr,...e},r={submitCount:0,isDirty:!1,isLoading:Y(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},o=R(t.defaultValues)||R(t.values)?$(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:$(o),f={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},g,m=0;const V={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={values:Pe(),array:Pe(),state:Pe()},Z=it(t.mode),G=it(t.reValidateMode),L=t.criteriaMode===q.all,ke=s=>u=>{clearTimeout(m),m=setTimeout(s,u)},J=async s=>{if(V.isValid||s){const u=t.resolver?M((await ee()).errors):await I(n,!0);u!==r.isValid&&_.state.next({isValid:u})}},Q=(s,u)=>{(V.isValidating||V.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(u?x(r.validatingFields,l,u):O(r.validatingFields,l))}),_.state.next({validatingFields:r.validatingFields,isValidating:!M(r.validatingFields)}))},w=(s,u=[],l,y,c=!0,a=!0)=>{if(y&&l){if(f.action=!0,a&&Array.isArray(h(n,s))){const v=l(h(n,s),y.argA,y.argB);c&&x(n,s,v)}if(a&&Array.isArray(h(r.errors,s))){const v=l(h(r.errors,s),y.argA,y.argB);c&&x(r.errors,s,v),br(r.errors,s)}if(V.touchedFields&&a&&Array.isArray(h(r.touchedFields,s))){const v=l(h(r.touchedFields,s),y.argA,y.argB);c&&x(r.touchedFields,s,v)}V.dirtyFields&&(r.dirtyFields=pe(o,i)),_.state.next({name:s,isDirty:b(s,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else x(i,s,u)},H=(s,u)=>{x(r.errors,s,u),_.state.next({errors:r.errors})},z=s=>{r.errors=s,_.state.next({errors:r.errors,isValid:!1})},k=(s,u,l,y)=>{const c=h(n,s);if(c){const a=h(i,s,S(l)?h(o,s):l);S(a)||y&&y.defaultChecked||u?x(i,s,u?a:Ue(c._f)):C(s,a),f.mount&&J()}},re=(s,u,l,y,c)=>{let a=!1,v=!1;const F={name:s},E=!!(h(n,s)&&h(n,s)._f&&h(n,s)._f.disabled);if(!l||y){V.isDirty&&(v=r.isDirty,r.isDirty=F.isDirty=b(),a=v!==F.isDirty);const U=E||te(h(o,s),u);v=!!(!E&&h(r.dirtyFields,s)),U||E?O(r.dirtyFields,s):x(r.dirtyFields,s,!0),F.dirtyFields=r.dirtyFields,a=a||V.dirtyFields&&v!==!U}if(l){const U=h(r.touchedFields,s);U||(x(r.touchedFields,s,l),F.touchedFields=r.touchedFields,a=a||V.touchedFields&&U!==l)}return a&&c&&_.state.next(F),a?F:{}},ve=(s,u,l,y)=>{const c=h(r.errors,s),a=V.isValid&&X(u)&&r.isValid!==u;if(e.delayError&&l?(g=ke(()=>H(s,l)),g(e.delayError)):(clearTimeout(m),g=null,l?x(r.errors,s,l):O(r.errors,s)),(l?!te(c,l):c)||!M(y)||a){const v={...y,...a&&X(u)?{isValid:u}:{},errors:r.errors,name:s};r={...r,...v},_.state.next(v)}},ee=async s=>{Q(s,!0);const u=await t.resolver(i,t.context,gr(s||d.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return Q(s),u},se=async s=>{const{errors:u}=await ee(s);if(s)for(const l of s){const y=h(u,l);y?x(r.errors,l,y):O(r.errors,l)}else r.errors=u;return u},I=async(s,u,l={valid:!0})=>{for(const y in s){const c=s[y];if(c){const{_f:a,...v}=c;if(a){const F=d.array.has(a.name);Q([y],!0);const E=await ct(c,i,L,t.shouldUseNativeValidation&&!u,F);if(Q([y]),E[a.name]&&(l.valid=!1,u))break;!u&&(h(E,a.name)?F?dr(r.errors,E,a.name):x(r.errors,a.name,E[a.name]):O(r.errors,a.name))}v&&await I(v,u,l)}}return l.valid},ge=()=>{for(const s of d.unMount){const u=h(n,s);u&&(u._f.refs?u._f.refs.every(l=>!Le(l)):!Le(u._f.ref))&&De(s)}d.unMount=new Set},b=(s,u)=>(s&&u&&x(i,s,u),!te(He(),o)),A=(s,u,l)=>cr(s,d,{...f.mount?i:S(u)?o:W(s)?{[s]:u}:u},l,u),D=s=>Ee(h(f.mount?i:o,s,e.shouldUnregister?h(o,s,[]):[])),C=(s,u,l={})=>{const y=h(n,s);let c=u;if(y){const a=y._f;a&&(!a.disabled&&x(i,s,Ct(u,a)),c=Ae(a.ref)&&T(u)?"":u,Dt(a.ref)?[...a.ref.options].forEach(v=>v.selected=c.includes(v.value)):a.refs?he(a.ref)?a.refs.length>1?a.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(c)?!!c.find(F=>F===v.value):c===v.value)):a.refs[0]&&(a.refs[0].checked=!!c):a.refs.forEach(v=>v.checked=v.value===c):qe(a.ref)?a.ref.value="":(a.ref.value=c,a.ref.type||_.values.next({name:s,values:{...i}})))}(l.shouldDirty||l.shouldTouch)&&re(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&fe(s)},B=(s,u,l)=>{for(const y in u){const c=u[y],a=`${s}.${y}`,v=h(n,a);(d.array.has(s)||!xe(c)||v&&!v._f)&&!ue(c)?B(a,c,l):C(a,c,l)}},j=(s,u,l={})=>{const y=h(n,s),c=d.array.has(s),a=$(u);x(i,s,a),c?(_.array.next({name:s,values:{...i}}),(V.isDirty||V.dirtyFields)&&l.shouldDirty&&_.state.next({name:s,dirtyFields:pe(o,i),isDirty:b(s,a)})):y&&!y._f&&!T(a)?B(s,a,l):C(s,a,l),ut(s,d)&&_.state.next({...r}),_.values.next({name:f.mount?s:void 0,values:{...i}})},le=async s=>{f.mount=!0;const u=s.target;let l=u.name,y=!0;const c=h(n,l),a=()=>u.type?Ue(c._f):nr(s),v=F=>{y=Number.isNaN(F)||F===h(i,l,F)};if(c){let F,E;const U=a(),ne=s.type===nt.BLUR||s.type===nt.FOCUS_OUT,Mt=!_r(c._f)&&!t.resolver&&!h(r.errors,l)&&!c._f.deps||pr(ne,h(r.touchedFields,l),r.isSubmitted,G,Z),Re=ut(l,d,ne);x(i,l,U),ne?(c._f.onBlur&&c._f.onBlur(s),g&&g(0)):c._f.onChange&&c._f.onChange(s);const Ce=re(l,U,ne,!1),It=!M(Ce)||Re;if(!ne&&_.values.next({name:l,type:s.type,values:{...i}}),Mt)return V.isValid&&J(),It&&_.state.next({name:l,...Re?{}:Ce});if(!ne&&Re&&_.state.next({...r}),t.resolver){const{errors:Ze}=await ee([l]);if(v(U),y){const jt=dt(r.errors,n,l),et=dt(Ze,n,jt.name||l);F=et.error,l=et.name,E=M(Ze)}}else Q([l],!0),F=(await ct(c,i,L,t.shouldUseNativeValidation))[l],Q([l]),v(U),y&&(F?E=!1:V.isValid&&(E=await I(n,!0)));y&&(c._f.deps&&fe(c._f.deps),ve(l,E,F,Ce))}},ae=(s,u)=>{if(h(r.errors,u)&&s.focus)return s.focus(),1},fe=async(s,u={})=>{let l,y;const c=Ve(s);if(t.resolver){const a=await se(S(s)?s:c);l=M(a),y=s?!c.some(v=>h(a,v)):l}else s?(y=(await Promise.all(c.map(async a=>{const v=h(n,a);return await I(v&&v._f?{[a]:v}:v)}))).every(Boolean),!(!y&&!r.isValid)&&J()):y=l=await I(n);return _.state.next({...!W(s)||V.isValid&&l!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:l}:{},errors:r.errors}),u.shouldFocus&&!y&&de(n,ae,s?c:d.mount),y},He=s=>{const u={...f.mount?i:o};return S(s)?u:W(s)?h(u,s):s.map(l=>h(u,l))},ze=(s,u)=>({invalid:!!h((u||r).errors,s),isDirty:!!h((u||r).dirtyFields,s),error:h((u||r).errors,s),isValidating:!!h(r.validatingFields,s),isTouched:!!h((u||r).touchedFields,s)}),Pt=s=>{s&&Ve(s).forEach(u=>O(r.errors,u)),_.state.next({errors:s?r.errors:{}})},Ke=(s,u,l)=>{const y=(h(n,s,{_f:{}})._f||{}).ref,c=h(r.errors,s)||{},{ref:a,message:v,type:F,...E}=c;x(r.errors,s,{...E,...u,ref:y}),_.state.next({name:s,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},Lt=(s,u)=>Y(s)?_.values.subscribe({next:l=>s(A(void 0,u),l)}):A(s,u,!0),De=(s,u={})=>{for(const l of s?Ve(s):d.mount)d.mount.delete(l),d.array.delete(l),u.keepValue||(O(n,l),O(i,l)),!u.keepError&&O(r.errors,l),!u.keepDirty&&O(r.dirtyFields,l),!u.keepTouched&&O(r.touchedFields,l),!u.keepIsValidating&&O(r.validatingFields,l),!t.shouldUnregister&&!u.keepDefaultValue&&O(o,l);_.values.next({values:{...i}}),_.state.next({...r,...u.keepDirty?{isDirty:b()}:{}}),!u.keepIsValid&&J()},Ge=({disabled:s,name:u,field:l,fields:y,value:c})=>{if(X(s)&&f.mount||s){const a=s?void 0:S(c)?Ue(l?l._f:h(y,u)._f):c;x(i,u,a),re(u,a,!1,!1,!0)}},Oe=(s,u={})=>{let l=h(n,s);const y=X(u.disabled);return x(n,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...u}}),d.mount.add(s),l?Ge({field:l,disabled:u.disabled,name:s,value:u.value}):k(s,!0,u.value),{...y?{disabled:u.disabled}:{},...t.progressive?{required:!!u.required,min:ce(u.min),max:ce(u.max),minLength:ce(u.minLength),maxLength:ce(u.maxLength),pattern:ce(u.pattern)}:{},name:s,onChange:le,onBlur:le,ref:c=>{if(c){Oe(s,u),l=h(n,s);const a=S(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,v=vr(a),F=l._f.refs||[];if(v?F.find(E=>E===a):a===l._f.ref)return;x(n,s,{_f:{...l._f,...v?{refs:[...F.filter(Le),a,...Array.isArray(h(o,s))?[{}]:[]],ref:{type:a.type,name:s}}:{ref:a}}}),k(s,!1,void 0,a)}else l=h(n,s,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(ur(d.array,s)&&f.action)&&d.unMount.add(s)}}},Je=()=>t.shouldFocusError&&de(n,ae,d.mount),Ut=s=>{X(s)&&(_.state.next({disabled:s}),de(n,(u,l)=>{const y=h(n,l);y&&(u.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(c=>{c.disabled=y._f.disabled||s}))},0,!1))},Qe=(s,u)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=$(i);if(_.state.next({isSubmitting:!0}),t.resolver){const{errors:a,values:v}=await ee();r.errors=a,c=v}else await I(n);if(O(r.errors,"root"),M(r.errors)){_.state.next({errors:{}});try{await s(c,l)}catch(a){y=a}}else u&&await u({...r.errors},l),Je(),setTimeout(Je);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(r.errors)&&!y,submitCount:r.submitCount+1,errors:r.errors}),y)throw y},Nt=(s,u={})=>{h(n,s)&&(S(u.defaultValue)?j(s,$(h(o,s))):(j(s,u.defaultValue),x(o,s,$(u.defaultValue))),u.keepTouched||O(r.touchedFields,s),u.keepDirty||(O(r.dirtyFields,s),r.isDirty=u.defaultValue?b(s,$(h(o,s))):b()),u.keepError||(O(r.errors,s),V.isValid&&J()),_.state.next({...r}))},Xe=(s,u={})=>{const l=s?$(s):o,y=$(l),c=M(s),a=c?o:y;if(u.keepDefaultValues||(o=l),!u.keepValues){if(u.keepDirtyValues)for(const v of d.mount)h(r.dirtyFields,v)?x(a,v,h(i,v)):j(v,h(a,v));else{if($e&&S(s))for(const v of d.mount){const F=h(n,v);if(F&&F._f){const E=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(Ae(E)){const U=E.closest("form");if(U){U.reset();break}}}}n={}}i=e.shouldUnregister?u.keepDefaultValues?$(o):{}:$(a),_.array.next({values:{...a}}),_.values.next({values:{...a}})}d={mount:u.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!V.isValid||!!u.keepIsValid||!!u.keepDirtyValues,f.watch=!!e.shouldUnregister,_.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:c?!1:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!te(s,o)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:c?{}:u.keepDirtyValues?u.keepDefaultValues&&i?pe(o,i):r.dirtyFields:u.keepDefaultValues&&s?pe(o,s):u.keepDirty?r.dirtyFields:{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(s,u)=>Xe(Y(s)?s(i):s,u);return{control:{register:Oe,unregister:De,getFieldState:ze,handleSubmit:Qe,setError:Ke,_executeSchema:ee,_getWatch:A,_getDirty:b,_updateValid:J,_removeUnmounted:ge,_updateFieldArray:w,_updateDisabledField:Ge,_getFieldArray:D,_reset:Xe,_resetDefaultValues:()=>Y(t.defaultValues)&&t.defaultValues().then(s=>{Ye(s,t.resetOptions),_.state.next({isLoading:!1})}),_updateFormState:s=>{r={...r,...s}},_disableForm:Ut,_subjects:_,_proxyFormState:V,_setErrors:z,get _fields(){return n},get _formValues(){return i},get _state(){return f},set _state(s){f=s},get _defaultValues(){return o},get _names(){return d},set _names(s){d=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:fe,register:Oe,handleSubmit:Qe,watch:Lt,setValue:j,getValues:He,reset:Ye,resetField:Nt,clearErrors:Pt,unregister:De,setError:Ke,setFocus:(s,u={})=>{const l=h(n,s),y=l&&l._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),u.shouldSelect&&c.select())}},getFieldState:ze}}function Dr(e={}){const t=N.useRef(),r=N.useRef(),[n,o]=N.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Vr(e),formState:n});const i=t.current.control;return i._options=e,fr({subject:i._subjects.state,next:f=>{ar(f,i._proxyFormState,i._updateFormState)&&o({...i._formState})}}),N.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),N.useEffect(()=>{if(i._proxyFormState.isDirty){const f=i._getDirty();f!==n.isDirty&&i._subjects.state.next({isDirty:f})}},[i,n.isDirty]),N.useEffect(()=>{e.values&&!te(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,o(f=>({...f}))):i._resetDefaultValues()},[e.values,i]),N.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),N.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),N.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=lr(n,i),t.current}const yt=(e,t,r)=>{if(e&&"reportValidity"in e){const n=h(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Tt=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?yt(n.ref,r,e):n.refs&&n.refs.forEach(o=>yt(o,r,e))}},wr=(e,t)=>{t.shouldUseNativeValidation&&Tt(e,t);const r={};for(const n in e){const o=h(t.fields,n),i=Object.assign(e[n]||{},{ref:o&&o.ref});if(Ar(t.names||Object.keys(e),n)){const f=Object.assign({},h(r,n));x(f,"root",i),x(r,n,f)}else x(r,n,i)}return r},Ar=(e,t)=>e.some(r=>r.startsWith(t+"."));function Or(e,t,r){return t===void 0&&(t={}),r===void 0&&(r={}),function(n,o,i){try{return Promise.resolve(function(f,d){try{var g=(t.context,Promise.resolve(e[r.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},t,{context:o}))).then(function(m){return i.shouldUseNativeValidation&&Tt({},i),{values:r.raw?n:m,errors:{}}}))}catch(m){return d(m)}return g&&g.then?g.then(void 0,d):g}(0,function(f){if(!f.inner)throw f;return{values:{},errors:wr((d=f,g=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(d.inner||[]).reduce(function(m,V){if(m[V.path]||(m[V.path]={message:V.message,type:V.type}),g){var _=m[V.path].types,Z=_&&_[V.type];m[V.path]=St(V.path,g,m,V.type,Z?[].concat(Z,V.message):V.message)}return m},{})),i)};var d,g}))}catch(f){return Promise.reject(f)}}}export{N as R,kr as a,Er as c,Bt as g,Or as o,At as r,Dr as u};
